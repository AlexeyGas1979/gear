title: curve_amm_test

programs:
  - id: 1
    path: target/wasm32-unknown-unknown/release/curve_amm.wasm
    init_message:
      kind: custom
      value:
          owner: 5GrwvaEF5zXb26Fz9rcQpDWS57CtERHpNehXCPcNoHGKutQY
          x_token_program_id: 0x0000000000000000000000000000000000000000000000000000000000000000
          y_token_program_id: 0x0000000000000000000000000000000000000000000000000000000000000000
          lp_token_program_id: 0x0000000000000000000000000000000000000000000000000000000000000000
          amplification_coefficient : 2
          fee: 2
          admin_fee: 2

fixtures:
  - title: curve_amm
    messages: []
    expected:
      - step: 1
#       - destination: 1
#         payload:
#           kind: custom
#           value:
#             mint:
#               account: 5GrwvaEF5zXb26Fz9rcQpDWS57CtERHpNehXCPcNoHGKutQY
#               amount: 10000

#       - destination: 1
#         payload:
#           kind: custom
#           value:
#             burn:
#               account: 5GrwvaEF5zXb26Fz9rcQpDWS57CtERHpNehXCPcNoHGKutQY
#               amount: 10

#       - destination: 1
#         payload:
#           kind: custom
#           value:
#             transfer:
#               from: 5GrwvaEF5zXb26Fz9rcQpDWS57CtERHpNehXCPcNoHGKutQY
#               to: 5FHneW46xGXgs5mUiveU4sbTyGBzmstUspZC92UhjJM694ty
#               amount: 200

#     expected:
#       - log:
#           - destination: 0
#             payload:
#               kind: custom
#               value:
#                 transfer:
#                   from: 0x0000000000000000000000000000000000000000000000000000000000000000
#                   to: 5GrwvaEF5zXb26Fz9rcQpDWS57CtERHpNehXCPcNoHGKutQY
#                   amount: 10000
#           - destination: 0
#             payload:
#               kind: custom
#               value:
#                 transfer:
#                   from: 5GrwvaEF5zXb26Fz9rcQpDWS57CtERHpNehXCPcNoHGKutQY
#                   to: 0x0000000000000000000000000000000000000000000000000000000000000000
#                   amount: 10
#           - destination: 0
#             payload:
#               kind: custom
#               value:
#                 transfer:
#                   from: 5GrwvaEF5zXb26Fz9rcQpDWS57CtERHpNehXCPcNoHGKutQY
#                   to: 5FHneW46xGXgs5mUiveU4sbTyGBzmstUspZC92UhjJM694ty
#                   amount: 200
